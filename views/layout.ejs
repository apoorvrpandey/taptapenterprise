<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title><%= title %></title>
  <link rel="stylesheet" href="/styles.css"> <!-- Include your stylesheets here -->
</head>
<body>
  <!-- Main content area where other EJS files will be injected -->
  <%- body %>

  <% if (user && user.role === "collegeAdmin") { %>
  <script>
    document.addEventListener("DOMContentLoaded", function() {
      if (window.location.pathname !== "/myDashboard") {
        // Create the modal elements
        const modal = document.createElement("div");
        modal.style.position = "fixed";
        modal.style.top = "0";
        modal.style.left = "0";
        modal.style.width = "100%";
        modal.style.height = "100%";
        modal.style.backgroundColor = "rgba(0, 0, 0, 0.5)";
        modal.style.display = "flex";
        modal.style.justifyContent = "center";
        modal.style.alignItems = "center";
        modal.style.zIndex = "9999";

        const popup = document.createElement("div");
        popup.style.backgroundColor = "#fff";
        popup.style.padding = "20px";
        popup.style.borderRadius = "10px";
        popup.style.boxShadow = "0 2px 10px rgba(0, 0, 0, 0.1)";
        popup.style.textAlign = "center";
        popup.style.maxWidth = "400px";
        popup.style.width = "100%";

        const message = document.createElement("p");
        message.textContent = "You are not authorized to view this page. You will be redirected to your dashboard.";
        message.style.marginBottom = "20px";

        // Append elements
        popup.appendChild(message);
        modal.appendChild(popup);
        document.body.appendChild(modal);

        // Automatically redirect after 3 seconds
        setTimeout(function() {
          window.location.href = "/myDashboard";
        }, 3000);
      }
    });
  </script>
  <% } %>
</body>
</html>
